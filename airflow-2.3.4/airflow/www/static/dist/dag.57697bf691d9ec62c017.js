/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Airflow"] = factory();
	else
		root["Airflow"] = root["Airflow"] || {}, root["Airflow"]["dag"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./static/js/dag.js":
/*!**************************!*\
  !*** ./static/js/dag.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"callModal\": () => (/* binding */ callModal),\n/* harmony export */   \"dagTZ\": () => (/* binding */ dagTZ)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./static/js/utils.js\");\n/* harmony import */ var _datetime_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./datetime_utils */ \"./static/js/datetime_utils.js\");\n/*!\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/* global document, window, CustomEvent, $ */\n\n\n\nfunction updateQueryStringParameter(uri, key, value) {\n  const re = new RegExp(`([?&])${key}=.*?(&|$)`, 'i');\n  const separator = uri.indexOf('?') !== -1 ? '&' : '?';\n\n  if (uri.match(re)) {\n    return uri.replace(re, `$1${key}=${value}$2`);\n  }\n\n  return `${uri}${separator}${key}=${value}`;\n} // Pills highlighting\n\n\n$(window).on('load', function onLoad() {\n  $(`a[href*=\"${this.location.pathname}\"]`).parent().addClass('active');\n  $('.never_active').removeClass('active');\n});\nconst dagId = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('dag_id');\nconst dagTZ = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('dag_timezone');\nconst logsWithMetadataUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('logs_with_metadata_url');\nconst externalLogUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('external_log_url');\nconst extraLinksUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('extra_links_url');\nconst pausedUrl = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('paused_url');\nconst nextRun = {\n  createAfter: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('next_dagrun_create_after'),\n  intervalStart: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('next_dagrun_data_interval_start'),\n  intervalEnd: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('next_dagrun_data_interval_end')\n};\nlet taskId = '';\nlet executionDate = '';\nlet subdagId = '';\nlet dagRunId = '';\nlet mapIndex;\nlet mapStates = [];\nconst showExternalLogRedirect = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.getMetaValue)('show_external_log_redirect') === 'True';\nconst buttons = Array.from(document.querySelectorAll('a[id^=\"btn_\"][data-base-url]')).reduce((obj, elm) => {\n  obj[elm.id.replace('btn_', '')] = elm;\n  return obj;\n}, {});\n\nfunction updateButtonUrl(elm, params) {\n  let url = elm.dataset.baseUrl;\n\n  if (params.dag_id && elm.dataset.baseUrl.indexOf(dagId) !== -1) {\n    url = url.replace(dagId, params.dag_id);\n    delete params.dag_id;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(params, 'map_index') && params.map_index === undefined) {\n    delete params.map_index;\n  }\n\n  elm.setAttribute('href', `${url}?${$.param(params)}`);\n}\n\nfunction updateModalUrls() {\n  updateButtonUrl(buttons.subdag, {\n    dag_id: subdagId,\n    execution_date: executionDate\n  });\n  updateButtonUrl(buttons.task, {\n    dag_id: dagId,\n    task_id: taskId,\n    execution_date: executionDate,\n    map_index: mapIndex\n  });\n  updateButtonUrl(buttons.rendered, {\n    dag_id: dagId,\n    task_id: taskId,\n    execution_date: executionDate,\n    map_index: mapIndex\n  });\n  updateButtonUrl(buttons.mapped, {\n    _flt_3_dag_id: dagId,\n    _flt_3_task_id: taskId,\n    _flt_3_run_id: dagRunId,\n    _oc_TaskInstanceModelView: 'map_index'\n  });\n\n  if (buttons.rendered_k8s) {\n    updateButtonUrl(buttons.rendered_k8s, {\n      dag_id: dagId,\n      task_id: taskId,\n      execution_date: executionDate,\n      map_index: mapIndex\n    });\n  }\n\n  const tiButtonParams = {\n    _flt_3_dag_id: dagId,\n    _flt_3_task_id: taskId,\n    _oc_TaskInstanceModelView: 'dag_run.execution_date'\n  }; // eslint-disable-next-line no-underscore-dangle\n\n  if (mapIndex >= 0) tiButtonParams._flt_0_map_index = mapIndex;\n  updateButtonUrl(buttons.ti, tiButtonParams);\n  updateButtonUrl(buttons.log, {\n    dag_id: dagId,\n    task_id: taskId,\n    execution_date: executionDate,\n    map_index: mapIndex\n  });\n  updateButtonUrl(buttons.xcom, {\n    dag_id: dagId,\n    task_id: taskId,\n    execution_date: executionDate,\n    map_index: mapIndex\n  });\n} // Update modal urls on toggle\n\n\ndocument.addEventListener('click', event => {\n  if (event.target.matches('button[data-toggle=\"button\"]')) {\n    updateModalUrls();\n  }\n});\nfunction callModal({\n  taskId: t,\n  executionDate: d,\n  extraLinks,\n  tryNumber,\n  isSubDag,\n  dagRunId: drID,\n  mapIndex: mi,\n  isMapped = false,\n  mappedStates = []\n}) {\n  taskId = t;\n  const location = String(window.location);\n  $('#btn_filter').on('click', () => {\n    window.location = updateQueryStringParameter(location, 'root', taskId);\n  });\n  executionDate = d;\n  dagRunId = drID;\n  mapIndex = mi;\n\n  if (isMapped) {\n    mapStates = mappedStates;\n  }\n\n  $('#dag_run_id').text(drID);\n  $('#task_id').text(t);\n  $('#execution_date').text((0,_datetime_utils__WEBPACK_IMPORTED_MODULE_1__.formatDateTime)(d));\n  $('#taskInstanceModal').modal({});\n  $('#taskInstanceModal').css('margin-top', '0');\n  $('#extra_links').prev('hr').hide();\n  $('#extra_links').empty().hide();\n\n  if (mi >= 0) {\n    $('#modal_map_index').show();\n    $('#modal_map_index .value').text(mi);\n  } else {\n    $('#modal_map_index').hide();\n    $('#modal_map_index .value').text('');\n  }\n\n  if (isSubDag) {\n    $('#div_btn_subdag').show();\n    subdagId = `${dagId}.${t}`;\n  } else {\n    $('#div_btn_subdag').hide();\n    subdagId = undefined;\n  } // Show a span or dropdown for mapIndex\n\n\n  if (mi >= 0 && !mapStates.length) {\n    $('#modal_map_index').show();\n    $('#modal_map_index .value').text(mi);\n    $('#mapped_dropdown').hide();\n  } else if (mi >= 0 || isMapped) {\n    $('#modal_map_index').show();\n    $('#modal_map_index .value').text('');\n    $('#mapped_dropdown').show();\n    const dropdownText = mapIndex > -1 ? mapIndex : `All  ${mapStates.length} Mapped Instances`;\n    $('#mapped_dropdown #dropdown-label').text(dropdownText);\n    $('#mapped_dropdown .dropdown-menu').empty();\n    $('#mapped_dropdown .dropdown-menu').append(`<li><a href=\"#\" class=\"map_index_item\" data-mapIndex=\"all\">All ${mapStates.length} Mapped Instances</a></li>`);\n    mapStates.forEach((state, i) => {\n      $('#mapped_dropdown .dropdown-menu').append(`<li><a href=\"#\" class=\"map_index_item\" data-mapIndex=\"${i}\">${i} - ${state}</a></li>`);\n    });\n  } else {\n    $('#modal_map_index').hide();\n    $('#modal_map_index .value').text('');\n    $('#mapped_dropdown').hide();\n  }\n\n  if (isMapped) {\n    $('#task_actions').text(`Task Actions for all ${mappedStates.length} instances`);\n    $('#btn_mapped').show();\n    $('#mapped_dropdown').css('display', 'inline-block');\n    $('#btn_rendered').hide();\n    $('#btn_xcom').hide();\n    $('#btn_log').hide();\n    $('#btn_task').hide();\n  } else {\n    $('#task_actions').text('Task Actions');\n    $('#btn_rendered').show();\n    $('#btn_xcom').show();\n    $('#btn_log').show();\n    $('#btn_mapped').hide();\n    $('#btn_task').show();\n  }\n\n  $('#dag_dl_logs').hide();\n  $('#dag_redir_logs').hide();\n\n  if (tryNumber > 0 && !isMapped) {\n    $('#dag_dl_logs').show();\n\n    if (showExternalLogRedirect) {\n      $('#dag_redir_logs').show();\n    }\n  }\n\n  updateModalUrls();\n  $('#try_index > li').remove();\n  $('#redir_log_try_index > li').remove();\n  const startIndex = tryNumber > 2 ? 0 : 1;\n  const query = new URLSearchParams({\n    dag_id: dagId,\n    task_id: taskId,\n    execution_date: executionDate,\n    metadata: 'null'\n  });\n\n  if (mi !== undefined) {\n    query.set('map_index', mi);\n  }\n\n  for (let index = startIndex; index < tryNumber; index += 1) {\n    let showLabel = index;\n\n    if (index !== 0) {\n      query.set('try_number', index);\n    } else {\n      showLabel = 'All';\n    }\n\n    $('#try_index').append(`<li role=\"presentation\" style=\"display:inline\">\n      <a href=\"${logsWithMetadataUrl}?${query}&format=file\"> ${showLabel} </a>\n      </li>`);\n\n    if (index !== 0 || showExternalLogRedirect) {\n      $('#redir_log_try_index').append(`<li role=\"presentation\" style=\"display:inline\">\n      <a href=\"${externalLogUrl}?${query}\"> ${showLabel} </a>\n      </li>`);\n    }\n  }\n\n  query.delete('try_number');\n\n  if (extraLinks && extraLinks.length > 0) {\n    const markupArr = [];\n    extraLinks.sort();\n    $.each(extraLinks, (i, link) => {\n      query.set('link_name', link);\n      const externalLink = $('<a href=\"#\" class=\"btn btn-primary disabled\"></a>');\n      const linkTooltip = $('<span class=\"tool-tip\" data-toggle=\"tooltip\" style=\"padding-right: 2px; padding-left: 3px\" data-placement=\"top\" ' + 'title=\"link not yet available\"></span>');\n      linkTooltip.append(externalLink);\n      externalLink.text(link);\n      $.ajax({\n        url: `${extraLinksUrl}?${query}`,\n        cache: false,\n\n        success(data) {\n          externalLink.attr('href', data.url); // open absolute (external) links in a new tab/window and relative (local) links\n          // directly\n\n          if (/^(?:[a-z]+:)?\\/\\//.test(data.url)) {\n            externalLink.attr('target', '_blank');\n          }\n\n          externalLink.removeClass('disabled');\n          linkTooltip.tooltip('disable');\n        },\n\n        error(data) {\n          linkTooltip.tooltip('hide').attr('title', data.responseJSON.error).tooltip('fixTitle');\n        }\n\n      });\n      markupArr.push(linkTooltip);\n    });\n    const extraLinksSpan = $('#extra_links');\n    extraLinksSpan.prev('hr').show();\n    extraLinksSpan.append(markupArr).show();\n    extraLinksSpan.find('[data-toggle=\"tooltip\"]').tooltip();\n  }\n} // Switch the modal from a mapped task summary to a specific mapped task instance\n\n$(document).on('click', '.map_index_item', function mapItem() {\n  const mi = $(this).attr('data-mapIndex');\n\n  if (mi === 'all') {\n    callModal({\n      taskId,\n      executionDate,\n      dagRunId,\n      mapIndex: -1,\n      isMapped: true,\n      mappedStates: mapStates\n    });\n  } else {\n    callModal({\n      taskId,\n      executionDate,\n      dagRunId,\n      mapIndex: mi\n    });\n  }\n}); // Task Instance Modal actions\n\n$('form[data-action]').on('submit', function submit(e) {\n  e.preventDefault();\n  const form = $(this).get(0);\n\n  if (dagRunId || executionDate) {\n    if (form.dag_run_id) {\n      form.dag_run_id.value = dagRunId;\n    }\n\n    if (form.execution_date) {\n      form.execution_date.value = executionDate;\n    }\n\n    form.origin.value = window.location;\n\n    if (form.task_id) {\n      form.task_id.value = taskId;\n    }\n\n    if (form.map_index && mapIndex >= 0) {\n      form.map_index.value = mapIndex;\n    } else if (form.map_index) {\n      form.map_index.remove();\n    }\n\n    form.action = $(this).data('action');\n    form.submit();\n  }\n});\n$('#pause_resume').on('change', function onChange() {\n  const $input = $(this);\n  const id = $input.data('dag-id');\n  const isPaused = $input.is(':checked');\n  const url = `${pausedUrl}?is_paused=${isPaused}&dag_id=${encodeURIComponent(id)}`; // Remove focus on element so the tooltip will go away\n\n  $input.trigger('blur');\n  $input.removeClass('switch-input--error'); // dispatch an event that React can listen for\n\n  const event = new CustomEvent('paused', {\n    detail: isPaused\n  });\n  document.dispatchEvent(event);\n  $.post(url).fail(() => {\n    setTimeout(() => {\n      $input.prop('checked', !isPaused);\n      $input.addClass('switch-input--error');\n      event.value = !isPaused;\n      document.dispatchEvent(event);\n    }, 500);\n  });\n});\n$('#next-run').on('mouseover', () => {\n  $('#next-run').attr('data-original-title', () => {\n    let newTitle = '';\n\n    if (nextRun.createAfter) {\n      newTitle += `<strong>Run After:</strong> ${(0,_datetime_utils__WEBPACK_IMPORTED_MODULE_1__.formatDateTime)(nextRun.createAfter)}<br>`;\n      newTitle += `Next Run: ${(0,_datetime_utils__WEBPACK_IMPORTED_MODULE_1__.approxTimeFromNow)(nextRun.createAfter)}<br><br>`;\n    }\n\n    if (nextRun.intervalStart && nextRun.intervalEnd) {\n      newTitle += '<strong>Data Interval</strong><br>';\n      newTitle += `Start: ${(0,_datetime_utils__WEBPACK_IMPORTED_MODULE_1__.formatDateTime)(nextRun.intervalStart)}<br>`;\n      newTitle += `End: ${(0,_datetime_utils__WEBPACK_IMPORTED_MODULE_1__.formatDateTime)(nextRun.intervalEnd)}`;\n    }\n\n    return newTitle;\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdGF0aWMvanMvZGFnLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0FpcmZsb3cvLi9zdGF0aWMvanMvZGFnLmpzPzA3NWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiBnbG9iYWwgZG9jdW1lbnQsIHdpbmRvdywgQ3VzdG9tRXZlbnQsICQgKi9cbmltcG9ydCB7IGdldE1ldGFWYWx1ZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgYXBwcm94VGltZUZyb21Ob3csIGZvcm1hdERhdGVUaW1lIH0gZnJvbSAnLi9kYXRldGltZV91dGlscyc7XG5cbmZ1bmN0aW9uIHVwZGF0ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyKHVyaSwga2V5LCB2YWx1ZSkge1xuICBjb25zdCByZSA9IG5ldyBSZWdFeHAoYChbPyZdKSR7a2V5fT0uKj8oJnwkKWAsICdpJyk7XG4gIGNvbnN0IHNlcGFyYXRvciA9IHVyaS5pbmRleE9mKCc/JykgIT09IC0xID8gJyYnIDogJz8nO1xuXG4gIGlmICh1cmkubWF0Y2gocmUpKSB7XG4gICAgcmV0dXJuIHVyaS5yZXBsYWNlKHJlLCBgJDEke2tleX09JHt2YWx1ZX0kMmApO1xuICB9XG5cbiAgcmV0dXJuIGAke3VyaX0ke3NlcGFyYXRvcn0ke2tleX09JHt2YWx1ZX1gO1xufSAvLyBQaWxscyBoaWdobGlnaHRpbmdcblxuXG4kKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiBvbkxvYWQoKSB7XG4gICQoYGFbaHJlZio9XCIke3RoaXMubG9jYXRpb24ucGF0aG5hbWV9XCJdYCkucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAkKCcubmV2ZXJfYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xufSk7XG5jb25zdCBkYWdJZCA9IGdldE1ldGFWYWx1ZSgnZGFnX2lkJyk7XG5leHBvcnQgY29uc3QgZGFnVFogPSBnZXRNZXRhVmFsdWUoJ2RhZ190aW1lem9uZScpO1xuY29uc3QgbG9nc1dpdGhNZXRhZGF0YVVybCA9IGdldE1ldGFWYWx1ZSgnbG9nc193aXRoX21ldGFkYXRhX3VybCcpO1xuY29uc3QgZXh0ZXJuYWxMb2dVcmwgPSBnZXRNZXRhVmFsdWUoJ2V4dGVybmFsX2xvZ191cmwnKTtcbmNvbnN0IGV4dHJhTGlua3NVcmwgPSBnZXRNZXRhVmFsdWUoJ2V4dHJhX2xpbmtzX3VybCcpO1xuY29uc3QgcGF1c2VkVXJsID0gZ2V0TWV0YVZhbHVlKCdwYXVzZWRfdXJsJyk7XG5jb25zdCBuZXh0UnVuID0ge1xuICBjcmVhdGVBZnRlcjogZ2V0TWV0YVZhbHVlKCduZXh0X2RhZ3J1bl9jcmVhdGVfYWZ0ZXInKSxcbiAgaW50ZXJ2YWxTdGFydDogZ2V0TWV0YVZhbHVlKCduZXh0X2RhZ3J1bl9kYXRhX2ludGVydmFsX3N0YXJ0JyksXG4gIGludGVydmFsRW5kOiBnZXRNZXRhVmFsdWUoJ25leHRfZGFncnVuX2RhdGFfaW50ZXJ2YWxfZW5kJylcbn07XG5sZXQgdGFza0lkID0gJyc7XG5sZXQgZXhlY3V0aW9uRGF0ZSA9ICcnO1xubGV0IHN1YmRhZ0lkID0gJyc7XG5sZXQgZGFnUnVuSWQgPSAnJztcbmxldCBtYXBJbmRleDtcbmxldCBtYXBTdGF0ZXMgPSBbXTtcbmNvbnN0IHNob3dFeHRlcm5hbExvZ1JlZGlyZWN0ID0gZ2V0TWV0YVZhbHVlKCdzaG93X2V4dGVybmFsX2xvZ19yZWRpcmVjdCcpID09PSAnVHJ1ZSc7XG5jb25zdCBidXR0b25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW2lkXj1cImJ0bl9cIl1bZGF0YS1iYXNlLXVybF0nKSkucmVkdWNlKChvYmosIGVsbSkgPT4ge1xuICBvYmpbZWxtLmlkLnJlcGxhY2UoJ2J0bl8nLCAnJyldID0gZWxtO1xuICByZXR1cm4gb2JqO1xufSwge30pO1xuXG5mdW5jdGlvbiB1cGRhdGVCdXR0b25VcmwoZWxtLCBwYXJhbXMpIHtcbiAgbGV0IHVybCA9IGVsbS5kYXRhc2V0LmJhc2VVcmw7XG5cbiAgaWYgKHBhcmFtcy5kYWdfaWQgJiYgZWxtLmRhdGFzZXQuYmFzZVVybC5pbmRleE9mKGRhZ0lkKSAhPT0gLTEpIHtcbiAgICB1cmwgPSB1cmwucmVwbGFjZShkYWdJZCwgcGFyYW1zLmRhZ19pZCk7XG4gICAgZGVsZXRlIHBhcmFtcy5kYWdfaWQ7XG4gIH1cblxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywgJ21hcF9pbmRleCcpICYmIHBhcmFtcy5tYXBfaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgIGRlbGV0ZSBwYXJhbXMubWFwX2luZGV4O1xuICB9XG5cbiAgZWxtLnNldEF0dHJpYnV0ZSgnaHJlZicsIGAke3VybH0/JHskLnBhcmFtKHBhcmFtcyl9YCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1vZGFsVXJscygpIHtcbiAgdXBkYXRlQnV0dG9uVXJsKGJ1dHRvbnMuc3ViZGFnLCB7XG4gICAgZGFnX2lkOiBzdWJkYWdJZCxcbiAgICBleGVjdXRpb25fZGF0ZTogZXhlY3V0aW9uRGF0ZVxuICB9KTtcbiAgdXBkYXRlQnV0dG9uVXJsKGJ1dHRvbnMudGFzaywge1xuICAgIGRhZ19pZDogZGFnSWQsXG4gICAgdGFza19pZDogdGFza0lkLFxuICAgIGV4ZWN1dGlvbl9kYXRlOiBleGVjdXRpb25EYXRlLFxuICAgIG1hcF9pbmRleDogbWFwSW5kZXhcbiAgfSk7XG4gIHVwZGF0ZUJ1dHRvblVybChidXR0b25zLnJlbmRlcmVkLCB7XG4gICAgZGFnX2lkOiBkYWdJZCxcbiAgICB0YXNrX2lkOiB0YXNrSWQsXG4gICAgZXhlY3V0aW9uX2RhdGU6IGV4ZWN1dGlvbkRhdGUsXG4gICAgbWFwX2luZGV4OiBtYXBJbmRleFxuICB9KTtcbiAgdXBkYXRlQnV0dG9uVXJsKGJ1dHRvbnMubWFwcGVkLCB7XG4gICAgX2ZsdF8zX2RhZ19pZDogZGFnSWQsXG4gICAgX2ZsdF8zX3Rhc2tfaWQ6IHRhc2tJZCxcbiAgICBfZmx0XzNfcnVuX2lkOiBkYWdSdW5JZCxcbiAgICBfb2NfVGFza0luc3RhbmNlTW9kZWxWaWV3OiAnbWFwX2luZGV4J1xuICB9KTtcblxuICBpZiAoYnV0dG9ucy5yZW5kZXJlZF9rOHMpIHtcbiAgICB1cGRhdGVCdXR0b25VcmwoYnV0dG9ucy5yZW5kZXJlZF9rOHMsIHtcbiAgICAgIGRhZ19pZDogZGFnSWQsXG4gICAgICB0YXNrX2lkOiB0YXNrSWQsXG4gICAgICBleGVjdXRpb25fZGF0ZTogZXhlY3V0aW9uRGF0ZSxcbiAgICAgIG1hcF9pbmRleDogbWFwSW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHRpQnV0dG9uUGFyYW1zID0ge1xuICAgIF9mbHRfM19kYWdfaWQ6IGRhZ0lkLFxuICAgIF9mbHRfM190YXNrX2lkOiB0YXNrSWQsXG4gICAgX29jX1Rhc2tJbnN0YW5jZU1vZGVsVmlldzogJ2RhZ19ydW4uZXhlY3V0aW9uX2RhdGUnXG4gIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZVxuXG4gIGlmIChtYXBJbmRleCA+PSAwKSB0aUJ1dHRvblBhcmFtcy5fZmx0XzBfbWFwX2luZGV4ID0gbWFwSW5kZXg7XG4gIHVwZGF0ZUJ1dHRvblVybChidXR0b25zLnRpLCB0aUJ1dHRvblBhcmFtcyk7XG4gIHVwZGF0ZUJ1dHRvblVybChidXR0b25zLmxvZywge1xuICAgIGRhZ19pZDogZGFnSWQsXG4gICAgdGFza19pZDogdGFza0lkLFxuICAgIGV4ZWN1dGlvbl9kYXRlOiBleGVjdXRpb25EYXRlLFxuICAgIG1hcF9pbmRleDogbWFwSW5kZXhcbiAgfSk7XG4gIHVwZGF0ZUJ1dHRvblVybChidXR0b25zLnhjb20sIHtcbiAgICBkYWdfaWQ6IGRhZ0lkLFxuICAgIHRhc2tfaWQ6IHRhc2tJZCxcbiAgICBleGVjdXRpb25fZGF0ZTogZXhlY3V0aW9uRGF0ZSxcbiAgICBtYXBfaW5kZXg6IG1hcEluZGV4XG4gIH0pO1xufSAvLyBVcGRhdGUgbW9kYWwgdXJscyBvbiB0b2dnbGVcblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcbiAgaWYgKGV2ZW50LnRhcmdldC5tYXRjaGVzKCdidXR0b25bZGF0YS10b2dnbGU9XCJidXR0b25cIl0nKSkge1xuICAgIHVwZGF0ZU1vZGFsVXJscygpO1xuICB9XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjYWxsTW9kYWwoe1xuICB0YXNrSWQ6IHQsXG4gIGV4ZWN1dGlvbkRhdGU6IGQsXG4gIGV4dHJhTGlua3MsXG4gIHRyeU51bWJlcixcbiAgaXNTdWJEYWcsXG4gIGRhZ1J1bklkOiBkcklELFxuICBtYXBJbmRleDogbWksXG4gIGlzTWFwcGVkID0gZmFsc2UsXG4gIG1hcHBlZFN0YXRlcyA9IFtdXG59KSB7XG4gIHRhc2tJZCA9IHQ7XG4gIGNvbnN0IGxvY2F0aW9uID0gU3RyaW5nKHdpbmRvdy5sb2NhdGlvbik7XG4gICQoJyNidG5fZmlsdGVyJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIHdpbmRvdy5sb2NhdGlvbiA9IHVwZGF0ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyKGxvY2F0aW9uLCAncm9vdCcsIHRhc2tJZCk7XG4gIH0pO1xuICBleGVjdXRpb25EYXRlID0gZDtcbiAgZGFnUnVuSWQgPSBkcklEO1xuICBtYXBJbmRleCA9IG1pO1xuXG4gIGlmIChpc01hcHBlZCkge1xuICAgIG1hcFN0YXRlcyA9IG1hcHBlZFN0YXRlcztcbiAgfVxuXG4gICQoJyNkYWdfcnVuX2lkJykudGV4dChkcklEKTtcbiAgJCgnI3Rhc2tfaWQnKS50ZXh0KHQpO1xuICAkKCcjZXhlY3V0aW9uX2RhdGUnKS50ZXh0KGZvcm1hdERhdGVUaW1lKGQpKTtcbiAgJCgnI3Rhc2tJbnN0YW5jZU1vZGFsJykubW9kYWwoe30pO1xuICAkKCcjdGFza0luc3RhbmNlTW9kYWwnKS5jc3MoJ21hcmdpbi10b3AnLCAnMCcpO1xuICAkKCcjZXh0cmFfbGlua3MnKS5wcmV2KCdocicpLmhpZGUoKTtcbiAgJCgnI2V4dHJhX2xpbmtzJykuZW1wdHkoKS5oaWRlKCk7XG5cbiAgaWYgKG1pID49IDApIHtcbiAgICAkKCcjbW9kYWxfbWFwX2luZGV4Jykuc2hvdygpO1xuICAgICQoJyNtb2RhbF9tYXBfaW5kZXggLnZhbHVlJykudGV4dChtaSk7XG4gIH0gZWxzZSB7XG4gICAgJCgnI21vZGFsX21hcF9pbmRleCcpLmhpZGUoKTtcbiAgICAkKCcjbW9kYWxfbWFwX2luZGV4IC52YWx1ZScpLnRleHQoJycpO1xuICB9XG5cbiAgaWYgKGlzU3ViRGFnKSB7XG4gICAgJCgnI2Rpdl9idG5fc3ViZGFnJykuc2hvdygpO1xuICAgIHN1YmRhZ0lkID0gYCR7ZGFnSWR9LiR7dH1gO1xuICB9IGVsc2Uge1xuICAgICQoJyNkaXZfYnRuX3N1YmRhZycpLmhpZGUoKTtcbiAgICBzdWJkYWdJZCA9IHVuZGVmaW5lZDtcbiAgfSAvLyBTaG93IGEgc3BhbiBvciBkcm9wZG93biBmb3IgbWFwSW5kZXhcblxuXG4gIGlmIChtaSA+PSAwICYmICFtYXBTdGF0ZXMubGVuZ3RoKSB7XG4gICAgJCgnI21vZGFsX21hcF9pbmRleCcpLnNob3coKTtcbiAgICAkKCcjbW9kYWxfbWFwX2luZGV4IC52YWx1ZScpLnRleHQobWkpO1xuICAgICQoJyNtYXBwZWRfZHJvcGRvd24nKS5oaWRlKCk7XG4gIH0gZWxzZSBpZiAobWkgPj0gMCB8fCBpc01hcHBlZCkge1xuICAgICQoJyNtb2RhbF9tYXBfaW5kZXgnKS5zaG93KCk7XG4gICAgJCgnI21vZGFsX21hcF9pbmRleCAudmFsdWUnKS50ZXh0KCcnKTtcbiAgICAkKCcjbWFwcGVkX2Ryb3Bkb3duJykuc2hvdygpO1xuICAgIGNvbnN0IGRyb3Bkb3duVGV4dCA9IG1hcEluZGV4ID4gLTEgPyBtYXBJbmRleCA6IGBBbGwgICR7bWFwU3RhdGVzLmxlbmd0aH0gTWFwcGVkIEluc3RhbmNlc2A7XG4gICAgJCgnI21hcHBlZF9kcm9wZG93biAjZHJvcGRvd24tbGFiZWwnKS50ZXh0KGRyb3Bkb3duVGV4dCk7XG4gICAgJCgnI21hcHBlZF9kcm9wZG93biAuZHJvcGRvd24tbWVudScpLmVtcHR5KCk7XG4gICAgJCgnI21hcHBlZF9kcm9wZG93biAuZHJvcGRvd24tbWVudScpLmFwcGVuZChgPGxpPjxhIGhyZWY9XCIjXCIgY2xhc3M9XCJtYXBfaW5kZXhfaXRlbVwiIGRhdGEtbWFwSW5kZXg9XCJhbGxcIj5BbGwgJHttYXBTdGF0ZXMubGVuZ3RofSBNYXBwZWQgSW5zdGFuY2VzPC9hPjwvbGk+YCk7XG4gICAgbWFwU3RhdGVzLmZvckVhY2goKHN0YXRlLCBpKSA9PiB7XG4gICAgICAkKCcjbWFwcGVkX2Ryb3Bkb3duIC5kcm9wZG93bi1tZW51JykuYXBwZW5kKGA8bGk+PGEgaHJlZj1cIiNcIiBjbGFzcz1cIm1hcF9pbmRleF9pdGVtXCIgZGF0YS1tYXBJbmRleD1cIiR7aX1cIj4ke2l9IC0gJHtzdGF0ZX08L2E+PC9saT5gKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAkKCcjbW9kYWxfbWFwX2luZGV4JykuaGlkZSgpO1xuICAgICQoJyNtb2RhbF9tYXBfaW5kZXggLnZhbHVlJykudGV4dCgnJyk7XG4gICAgJCgnI21hcHBlZF9kcm9wZG93bicpLmhpZGUoKTtcbiAgfVxuXG4gIGlmIChpc01hcHBlZCkge1xuICAgICQoJyN0YXNrX2FjdGlvbnMnKS50ZXh0KGBUYXNrIEFjdGlvbnMgZm9yIGFsbCAke21hcHBlZFN0YXRlcy5sZW5ndGh9IGluc3RhbmNlc2ApO1xuICAgICQoJyNidG5fbWFwcGVkJykuc2hvdygpO1xuICAgICQoJyNtYXBwZWRfZHJvcGRvd24nKS5jc3MoJ2Rpc3BsYXknLCAnaW5saW5lLWJsb2NrJyk7XG4gICAgJCgnI2J0bl9yZW5kZXJlZCcpLmhpZGUoKTtcbiAgICAkKCcjYnRuX3hjb20nKS5oaWRlKCk7XG4gICAgJCgnI2J0bl9sb2cnKS5oaWRlKCk7XG4gICAgJCgnI2J0bl90YXNrJykuaGlkZSgpO1xuICB9IGVsc2Uge1xuICAgICQoJyN0YXNrX2FjdGlvbnMnKS50ZXh0KCdUYXNrIEFjdGlvbnMnKTtcbiAgICAkKCcjYnRuX3JlbmRlcmVkJykuc2hvdygpO1xuICAgICQoJyNidG5feGNvbScpLnNob3coKTtcbiAgICAkKCcjYnRuX2xvZycpLnNob3coKTtcbiAgICAkKCcjYnRuX21hcHBlZCcpLmhpZGUoKTtcbiAgICAkKCcjYnRuX3Rhc2snKS5zaG93KCk7XG4gIH1cblxuICAkKCcjZGFnX2RsX2xvZ3MnKS5oaWRlKCk7XG4gICQoJyNkYWdfcmVkaXJfbG9ncycpLmhpZGUoKTtcblxuICBpZiAodHJ5TnVtYmVyID4gMCAmJiAhaXNNYXBwZWQpIHtcbiAgICAkKCcjZGFnX2RsX2xvZ3MnKS5zaG93KCk7XG5cbiAgICBpZiAoc2hvd0V4dGVybmFsTG9nUmVkaXJlY3QpIHtcbiAgICAgICQoJyNkYWdfcmVkaXJfbG9ncycpLnNob3coKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVNb2RhbFVybHMoKTtcbiAgJCgnI3RyeV9pbmRleCA+IGxpJykucmVtb3ZlKCk7XG4gICQoJyNyZWRpcl9sb2dfdHJ5X2luZGV4ID4gbGknKS5yZW1vdmUoKTtcbiAgY29uc3Qgc3RhcnRJbmRleCA9IHRyeU51bWJlciA+IDIgPyAwIDogMTtcbiAgY29uc3QgcXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICBkYWdfaWQ6IGRhZ0lkLFxuICAgIHRhc2tfaWQ6IHRhc2tJZCxcbiAgICBleGVjdXRpb25fZGF0ZTogZXhlY3V0aW9uRGF0ZSxcbiAgICBtZXRhZGF0YTogJ251bGwnXG4gIH0pO1xuXG4gIGlmIChtaSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcXVlcnkuc2V0KCdtYXBfaW5kZXgnLCBtaSk7XG4gIH1cblxuICBmb3IgKGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7IGluZGV4IDwgdHJ5TnVtYmVyOyBpbmRleCArPSAxKSB7XG4gICAgbGV0IHNob3dMYWJlbCA9IGluZGV4O1xuXG4gICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICBxdWVyeS5zZXQoJ3RyeV9udW1iZXInLCBpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dMYWJlbCA9ICdBbGwnO1xuICAgIH1cblxuICAgICQoJyN0cnlfaW5kZXgnKS5hcHBlbmQoYDxsaSByb2xlPVwicHJlc2VudGF0aW9uXCIgc3R5bGU9XCJkaXNwbGF5OmlubGluZVwiPlxuICAgICAgPGEgaHJlZj1cIiR7bG9nc1dpdGhNZXRhZGF0YVVybH0/JHtxdWVyeX0mZm9ybWF0PWZpbGVcIj4gJHtzaG93TGFiZWx9IDwvYT5cbiAgICAgIDwvbGk+YCk7XG5cbiAgICBpZiAoaW5kZXggIT09IDAgfHwgc2hvd0V4dGVybmFsTG9nUmVkaXJlY3QpIHtcbiAgICAgICQoJyNyZWRpcl9sb2dfdHJ5X2luZGV4JykuYXBwZW5kKGA8bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmVcIj5cbiAgICAgIDxhIGhyZWY9XCIke2V4dGVybmFsTG9nVXJsfT8ke3F1ZXJ5fVwiPiAke3Nob3dMYWJlbH0gPC9hPlxuICAgICAgPC9saT5gKTtcbiAgICB9XG4gIH1cblxuICBxdWVyeS5kZWxldGUoJ3RyeV9udW1iZXInKTtcblxuICBpZiAoZXh0cmFMaW5rcyAmJiBleHRyYUxpbmtzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBtYXJrdXBBcnIgPSBbXTtcbiAgICBleHRyYUxpbmtzLnNvcnQoKTtcbiAgICAkLmVhY2goZXh0cmFMaW5rcywgKGksIGxpbmspID0+IHtcbiAgICAgIHF1ZXJ5LnNldCgnbGlua19uYW1lJywgbGluayk7XG4gICAgICBjb25zdCBleHRlcm5hbExpbmsgPSAkKCc8YSBocmVmPVwiI1wiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGRpc2FibGVkXCI+PC9hPicpO1xuICAgICAgY29uc3QgbGlua1Rvb2x0aXAgPSAkKCc8c3BhbiBjbGFzcz1cInRvb2wtdGlwXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgc3R5bGU9XCJwYWRkaW5nLXJpZ2h0OiAycHg7IHBhZGRpbmctbGVmdDogM3B4XCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiAnICsgJ3RpdGxlPVwibGluayBub3QgeWV0IGF2YWlsYWJsZVwiPjwvc3Bhbj4nKTtcbiAgICAgIGxpbmtUb29sdGlwLmFwcGVuZChleHRlcm5hbExpbmspO1xuICAgICAgZXh0ZXJuYWxMaW5rLnRleHQobGluayk7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IGAke2V4dHJhTGlua3NVcmx9PyR7cXVlcnl9YCxcbiAgICAgICAgY2FjaGU6IGZhbHNlLFxuXG4gICAgICAgIHN1Y2Nlc3MoZGF0YSkge1xuICAgICAgICAgIGV4dGVybmFsTGluay5hdHRyKCdocmVmJywgZGF0YS51cmwpOyAvLyBvcGVuIGFic29sdXRlIChleHRlcm5hbCkgbGlua3MgaW4gYSBuZXcgdGFiL3dpbmRvdyBhbmQgcmVsYXRpdmUgKGxvY2FsKSBsaW5rc1xuICAgICAgICAgIC8vIGRpcmVjdGx5XG5cbiAgICAgICAgICBpZiAoL14oPzpbYS16XSs6KT9cXC9cXC8vLnRlc3QoZGF0YS51cmwpKSB7XG4gICAgICAgICAgICBleHRlcm5hbExpbmsuYXR0cigndGFyZ2V0JywgJ19ibGFuaycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV4dGVybmFsTGluay5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICBsaW5rVG9vbHRpcC50b29sdGlwKCdkaXNhYmxlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXJyb3IoZGF0YSkge1xuICAgICAgICAgIGxpbmtUb29sdGlwLnRvb2x0aXAoJ2hpZGUnKS5hdHRyKCd0aXRsZScsIGRhdGEucmVzcG9uc2VKU09OLmVycm9yKS50b29sdGlwKCdmaXhUaXRsZScpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgICAgbWFya3VwQXJyLnB1c2gobGlua1Rvb2x0aXApO1xuICAgIH0pO1xuICAgIGNvbnN0IGV4dHJhTGlua3NTcGFuID0gJCgnI2V4dHJhX2xpbmtzJyk7XG4gICAgZXh0cmFMaW5rc1NwYW4ucHJldignaHInKS5zaG93KCk7XG4gICAgZXh0cmFMaW5rc1NwYW4uYXBwZW5kKG1hcmt1cEFycikuc2hvdygpO1xuICAgIGV4dHJhTGlua3NTcGFuLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XG4gIH1cbn0gLy8gU3dpdGNoIHRoZSBtb2RhbCBmcm9tIGEgbWFwcGVkIHRhc2sgc3VtbWFyeSB0byBhIHNwZWNpZmljIG1hcHBlZCB0YXNrIGluc3RhbmNlXG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubWFwX2luZGV4X2l0ZW0nLCBmdW5jdGlvbiBtYXBJdGVtKCkge1xuICBjb25zdCBtaSA9ICQodGhpcykuYXR0cignZGF0YS1tYXBJbmRleCcpO1xuXG4gIGlmIChtaSA9PT0gJ2FsbCcpIHtcbiAgICBjYWxsTW9kYWwoe1xuICAgICAgdGFza0lkLFxuICAgICAgZXhlY3V0aW9uRGF0ZSxcbiAgICAgIGRhZ1J1bklkLFxuICAgICAgbWFwSW5kZXg6IC0xLFxuICAgICAgaXNNYXBwZWQ6IHRydWUsXG4gICAgICBtYXBwZWRTdGF0ZXM6IG1hcFN0YXRlc1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhbGxNb2RhbCh7XG4gICAgICB0YXNrSWQsXG4gICAgICBleGVjdXRpb25EYXRlLFxuICAgICAgZGFnUnVuSWQsXG4gICAgICBtYXBJbmRleDogbWlcbiAgICB9KTtcbiAgfVxufSk7IC8vIFRhc2sgSW5zdGFuY2UgTW9kYWwgYWN0aW9uc1xuXG4kKCdmb3JtW2RhdGEtYWN0aW9uXScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiBzdWJtaXQoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGZvcm0gPSAkKHRoaXMpLmdldCgwKTtcblxuICBpZiAoZGFnUnVuSWQgfHwgZXhlY3V0aW9uRGF0ZSkge1xuICAgIGlmIChmb3JtLmRhZ19ydW5faWQpIHtcbiAgICAgIGZvcm0uZGFnX3J1bl9pZC52YWx1ZSA9IGRhZ1J1bklkO1xuICAgIH1cblxuICAgIGlmIChmb3JtLmV4ZWN1dGlvbl9kYXRlKSB7XG4gICAgICBmb3JtLmV4ZWN1dGlvbl9kYXRlLnZhbHVlID0gZXhlY3V0aW9uRGF0ZTtcbiAgICB9XG5cbiAgICBmb3JtLm9yaWdpbi52YWx1ZSA9IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmIChmb3JtLnRhc2tfaWQpIHtcbiAgICAgIGZvcm0udGFza19pZC52YWx1ZSA9IHRhc2tJZDtcbiAgICB9XG5cbiAgICBpZiAoZm9ybS5tYXBfaW5kZXggJiYgbWFwSW5kZXggPj0gMCkge1xuICAgICAgZm9ybS5tYXBfaW5kZXgudmFsdWUgPSBtYXBJbmRleDtcbiAgICB9IGVsc2UgaWYgKGZvcm0ubWFwX2luZGV4KSB7XG4gICAgICBmb3JtLm1hcF9pbmRleC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBmb3JtLmFjdGlvbiA9ICQodGhpcykuZGF0YSgnYWN0aW9uJyk7XG4gICAgZm9ybS5zdWJtaXQoKTtcbiAgfVxufSk7XG4kKCcjcGF1c2VfcmVzdW1lJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIG9uQ2hhbmdlKCkge1xuICBjb25zdCAkaW5wdXQgPSAkKHRoaXMpO1xuICBjb25zdCBpZCA9ICRpbnB1dC5kYXRhKCdkYWctaWQnKTtcbiAgY29uc3QgaXNQYXVzZWQgPSAkaW5wdXQuaXMoJzpjaGVja2VkJyk7XG4gIGNvbnN0IHVybCA9IGAke3BhdXNlZFVybH0/aXNfcGF1c2VkPSR7aXNQYXVzZWR9JmRhZ19pZD0ke2VuY29kZVVSSUNvbXBvbmVudChpZCl9YDsgLy8gUmVtb3ZlIGZvY3VzIG9uIGVsZW1lbnQgc28gdGhlIHRvb2x0aXAgd2lsbCBnbyBhd2F5XG5cbiAgJGlucHV0LnRyaWdnZXIoJ2JsdXInKTtcbiAgJGlucHV0LnJlbW92ZUNsYXNzKCdzd2l0Y2gtaW5wdXQtLWVycm9yJyk7IC8vIGRpc3BhdGNoIGFuIGV2ZW50IHRoYXQgUmVhY3QgY2FuIGxpc3RlbiBmb3JcblxuICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgncGF1c2VkJywge1xuICAgIGRldGFpbDogaXNQYXVzZWRcbiAgfSk7XG4gIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAkLnBvc3QodXJsKS5mYWlsKCgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICRpbnB1dC5wcm9wKCdjaGVja2VkJywgIWlzUGF1c2VkKTtcbiAgICAgICRpbnB1dC5hZGRDbGFzcygnc3dpdGNoLWlucHV0LS1lcnJvcicpO1xuICAgICAgZXZlbnQudmFsdWUgPSAhaXNQYXVzZWQ7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9LCA1MDApO1xuICB9KTtcbn0pO1xuJCgnI25leHQtcnVuJykub24oJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgJCgnI25leHQtcnVuJykuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICgpID0+IHtcbiAgICBsZXQgbmV3VGl0bGUgPSAnJztcblxuICAgIGlmIChuZXh0UnVuLmNyZWF0ZUFmdGVyKSB7XG4gICAgICBuZXdUaXRsZSArPSBgPHN0cm9uZz5SdW4gQWZ0ZXI6PC9zdHJvbmc+ICR7Zm9ybWF0RGF0ZVRpbWUobmV4dFJ1bi5jcmVhdGVBZnRlcil9PGJyPmA7XG4gICAgICBuZXdUaXRsZSArPSBgTmV4dCBSdW46ICR7YXBwcm94VGltZUZyb21Ob3cobmV4dFJ1bi5jcmVhdGVBZnRlcil9PGJyPjxicj5gO1xuICAgIH1cblxuICAgIGlmIChuZXh0UnVuLmludGVydmFsU3RhcnQgJiYgbmV4dFJ1bi5pbnRlcnZhbEVuZCkge1xuICAgICAgbmV3VGl0bGUgKz0gJzxzdHJvbmc+RGF0YSBJbnRlcnZhbDwvc3Ryb25nPjxicj4nO1xuICAgICAgbmV3VGl0bGUgKz0gYFN0YXJ0OiAke2Zvcm1hdERhdGVUaW1lKG5leHRSdW4uaW50ZXJ2YWxTdGFydCl9PGJyPmA7XG4gICAgICBuZXdUaXRsZSArPSBgRW5kOiAke2Zvcm1hdERhdGVUaW1lKG5leHRSdW4uaW50ZXJ2YWxFbmQpfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld1RpdGxlO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./static/js/dag.js\n");

/***/ }),

/***/ "./static/js/datetime_utils.js":
/*!*************************************!*\
  !*** ./static/js/datetime_utils.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TimezoneEvent\": () => (/* binding */ TimezoneEvent),\n/* harmony export */   \"approxTimeFromNow\": () => (/* binding */ approxTimeFromNow),\n/* harmony export */   \"convertAndFormatUTC\": () => (/* binding */ convertAndFormatUTC),\n/* harmony export */   \"dateTimeAttrFormat\": () => (/* binding */ dateTimeAttrFormat),\n/* harmony export */   \"defaultFormat\": () => (/* binding */ defaultFormat),\n/* harmony export */   \"defaultFormatWithTZ\": () => (/* binding */ defaultFormatWithTZ),\n/* harmony export */   \"defaultTZFormat\": () => (/* binding */ defaultTZFormat),\n/* harmony export */   \"formatDateTime\": () => (/* binding */ formatDateTime),\n/* harmony export */   \"formatDuration\": () => (/* binding */ formatDuration),\n/* harmony export */   \"formatTimezone\": () => (/* binding */ formatTimezone),\n/* harmony export */   \"getDuration\": () => (/* binding */ getDuration),\n/* harmony export */   \"isoDateToTimeEl\": () => (/* binding */ isoDateToTimeEl),\n/* harmony export */   \"isoFormatWithoutTZ\": () => (/* binding */ isoFormatWithoutTZ),\n/* harmony export */   \"secondsToString\": () => (/* binding */ secondsToString),\n/* harmony export */   \"setDisplayedTimezone\": () => (/* binding */ setDisplayedTimezone),\n/* harmony export */   \"updateAllDateTimes\": () => (/* binding */ updateAllDateTimes)\n/* harmony export */ });\n/*!\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/* global moment, $, document */\nconst defaultFormat = 'YYYY-MM-DD, HH:mm:ss';\nconst isoFormatWithoutTZ = 'YYYY-MM-DDTHH:mm:ss.SSS';\nconst defaultFormatWithTZ = 'YYYY-MM-DD, HH:mm:ss z';\nconst defaultTZFormat = 'z (Z)';\nconst dateTimeAttrFormat = 'YYYY-MM-DDThh:mm:ssTZD';\nconst TimezoneEvent = 'timezone';\nfunction formatTimezone(what) {\n  if (what instanceof moment) {\n    return what.isUTC() ? 'UTC' : what.format(defaultTZFormat);\n  }\n\n  if (what === 'UTC') {\n    return what;\n  }\n\n  return moment().tz(what).format(defaultTZFormat);\n}\nfunction isoDateToTimeEl(datetime, options) {\n  const dateTimeObj = moment(datetime);\n  const addTitle = $.extend({\n    title: true\n  }, options).title;\n  const el = document.createElement('time');\n  el.setAttribute('datetime', dateTimeObj.format());\n\n  if (addTitle) {\n    el.setAttribute('title', dateTimeObj.isUTC() ? '' : `UTC: ${dateTimeObj.clone().utc().format()}`);\n  }\n\n  el.innerText = dateTimeObj.format(defaultFormat);\n  return el;\n}\nconst formatDateTime = datetime => moment(datetime).format(defaultFormatWithTZ);\nconst convertAndFormatUTC = (datetime, tz) => {\n  let dateTimeObj = moment.utc(datetime);\n  if (tz) dateTimeObj = dateTimeObj.tz(tz);\n  return dateTimeObj.format(defaultFormatWithTZ);\n};\nconst secondsToString = seconds => {\n  const numdays = Math.floor(seconds % 31536000 / 86400);\n  const numhours = Math.floor(seconds % 31536000 % 86400 / 3600);\n  const numminutes = Math.floor(seconds % 31536000 % 86400 % 3600 / 60);\n  const numseconds = Math.floor(seconds % 31536000 % 86400 % 3600 % 60);\n  return (numdays > 0 ? numdays + (numdays === 1 ? ' day ' : ' days ') : '') + (numhours > 0 ? numhours + (numhours === 1 ? ' hour ' : ' hours ') : '') + (numminutes > 0 ? numminutes + (numminutes === 1 ? ' minute ' : ' minutes ') : '') + (numseconds > 0 ? numseconds + (numseconds === 1 ? ' second' : ' seconds') : '');\n};\nfunction updateAllDateTimes() {\n  // Called after `moment.tz.setDefault` has changed the default TZ to display.\n  $('time[data-datetime-convert!=\"false\"]').each((_, el) => {\n    const $el = $(el);\n    const dt = moment($el.attr('datetime')); // eslint-disable-next-line no-underscore-dangle\n\n    if (dt._isValid) {\n      $el.text(dt.format($el.data('with-tz') ? defaultFormatWithTZ : defaultFormat));\n    }\n\n    if ($el.attr('title') !== undefined) {\n      // If displayed date is not UTC, have the UTC date in a title attribute\n      $el.attr('title', dt.isUTC() ? '' : `UTC: ${dt.clone().utc().format()}`);\n    }\n  }); // Update any date-time inputs.\n  //\n  // Since we have set the default timezone for moment, it will automatically\n  // convert it to the new target for us\n\n  $('.datetime input').each((_, el) => {\n    el.value = moment(el.value).format();\n  });\n}\nfunction setDisplayedTimezone(tz) {\n  moment.tz.setDefault(tz);\n  updateAllDateTimes();\n} // moment will resolve the enddate to now if it is undefined\n\nconst getDuration = (startDate, endDate) => moment(endDate || undefined).diff(startDate || undefined);\nconst formatDuration = dur => {\n  const duration = moment.duration(dur);\n  const days = duration.days(); // .as('milliseconds') is necessary for .format() to work correctly\n\n  return `${days > 0 ? `${days}d` : ''}${moment.utc(duration.as('milliseconds')).format('HH:mm:ss')}`;\n};\nconst approxTimeFromNow = dur => {\n  const timefromNow = moment(dur);\n  return `${timefromNow.fromNow()}`;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdGF0aWMvanMvZGF0ZXRpbWVfdXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BaXJmbG93Ly4vc3RhdGljL2pzL2RhdGV0aW1lX3V0aWxzLmpzPzk4YTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiBnbG9iYWwgbW9tZW50LCAkLCBkb2N1bWVudCAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERCwgSEg6bW06c3MnO1xuZXhwb3J0IGNvbnN0IGlzb0Zvcm1hdFdpdGhvdXRUWiA9ICdZWVlZLU1NLUREVEhIOm1tOnNzLlNTUyc7XG5leHBvcnQgY29uc3QgZGVmYXVsdEZvcm1hdFdpdGhUWiA9ICdZWVlZLU1NLURELCBISDptbTpzcyB6JztcbmV4cG9ydCBjb25zdCBkZWZhdWx0VFpGb3JtYXQgPSAneiAoWiknO1xuZXhwb3J0IGNvbnN0IGRhdGVUaW1lQXR0ckZvcm1hdCA9ICdZWVlZLU1NLUREVGhoOm1tOnNzVFpEJztcbmV4cG9ydCBjb25zdCBUaW1lem9uZUV2ZW50ID0gJ3RpbWV6b25lJztcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRUaW1lem9uZSh3aGF0KSB7XG4gIGlmICh3aGF0IGluc3RhbmNlb2YgbW9tZW50KSB7XG4gICAgcmV0dXJuIHdoYXQuaXNVVEMoKSA/ICdVVEMnIDogd2hhdC5mb3JtYXQoZGVmYXVsdFRaRm9ybWF0KTtcbiAgfVxuXG4gIGlmICh3aGF0ID09PSAnVVRDJykge1xuICAgIHJldHVybiB3aGF0O1xuICB9XG5cbiAgcmV0dXJuIG1vbWVudCgpLnR6KHdoYXQpLmZvcm1hdChkZWZhdWx0VFpGb3JtYXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzb0RhdGVUb1RpbWVFbChkYXRldGltZSwgb3B0aW9ucykge1xuICBjb25zdCBkYXRlVGltZU9iaiA9IG1vbWVudChkYXRldGltZSk7XG4gIGNvbnN0IGFkZFRpdGxlID0gJC5leHRlbmQoe1xuICAgIHRpdGxlOiB0cnVlXG4gIH0sIG9wdGlvbnMpLnRpdGxlO1xuICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RpbWUnKTtcbiAgZWwuc2V0QXR0cmlidXRlKCdkYXRldGltZScsIGRhdGVUaW1lT2JqLmZvcm1hdCgpKTtcblxuICBpZiAoYWRkVGl0bGUpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgZGF0ZVRpbWVPYmouaXNVVEMoKSA/ICcnIDogYFVUQzogJHtkYXRlVGltZU9iai5jbG9uZSgpLnV0YygpLmZvcm1hdCgpfWApO1xuICB9XG5cbiAgZWwuaW5uZXJUZXh0ID0gZGF0ZVRpbWVPYmouZm9ybWF0KGRlZmF1bHRGb3JtYXQpO1xuICByZXR1cm4gZWw7XG59XG5leHBvcnQgY29uc3QgZm9ybWF0RGF0ZVRpbWUgPSBkYXRldGltZSA9PiBtb21lbnQoZGF0ZXRpbWUpLmZvcm1hdChkZWZhdWx0Rm9ybWF0V2l0aFRaKTtcbmV4cG9ydCBjb25zdCBjb252ZXJ0QW5kRm9ybWF0VVRDID0gKGRhdGV0aW1lLCB0eikgPT4ge1xuICBsZXQgZGF0ZVRpbWVPYmogPSBtb21lbnQudXRjKGRhdGV0aW1lKTtcbiAgaWYgKHR6KSBkYXRlVGltZU9iaiA9IGRhdGVUaW1lT2JqLnR6KHR6KTtcbiAgcmV0dXJuIGRhdGVUaW1lT2JqLmZvcm1hdChkZWZhdWx0Rm9ybWF0V2l0aFRaKTtcbn07XG5leHBvcnQgY29uc3Qgc2Vjb25kc1RvU3RyaW5nID0gc2Vjb25kcyA9PiB7XG4gIGNvbnN0IG51bWRheXMgPSBNYXRoLmZsb29yKHNlY29uZHMgJSAzMTUzNjAwMCAvIDg2NDAwKTtcbiAgY29uc3QgbnVtaG91cnMgPSBNYXRoLmZsb29yKHNlY29uZHMgJSAzMTUzNjAwMCAlIDg2NDAwIC8gMzYwMCk7XG4gIGNvbnN0IG51bW1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgJSAzMTUzNjAwMCAlIDg2NDAwICUgMzYwMCAvIDYwKTtcbiAgY29uc3QgbnVtc2Vjb25kcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAlIDMxNTM2MDAwICUgODY0MDAgJSAzNjAwICUgNjApO1xuICByZXR1cm4gKG51bWRheXMgPiAwID8gbnVtZGF5cyArIChudW1kYXlzID09PSAxID8gJyBkYXkgJyA6ICcgZGF5cyAnKSA6ICcnKSArIChudW1ob3VycyA+IDAgPyBudW1ob3VycyArIChudW1ob3VycyA9PT0gMSA/ICcgaG91ciAnIDogJyBob3VycyAnKSA6ICcnKSArIChudW1taW51dGVzID4gMCA/IG51bW1pbnV0ZXMgKyAobnVtbWludXRlcyA9PT0gMSA/ICcgbWludXRlICcgOiAnIG1pbnV0ZXMgJykgOiAnJykgKyAobnVtc2Vjb25kcyA+IDAgPyBudW1zZWNvbmRzICsgKG51bXNlY29uZHMgPT09IDEgPyAnIHNlY29uZCcgOiAnIHNlY29uZHMnKSA6ICcnKTtcbn07XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQWxsRGF0ZVRpbWVzKCkge1xuICAvLyBDYWxsZWQgYWZ0ZXIgYG1vbWVudC50ei5zZXREZWZhdWx0YCBoYXMgY2hhbmdlZCB0aGUgZGVmYXVsdCBUWiB0byBkaXNwbGF5LlxuICAkKCd0aW1lW2RhdGEtZGF0ZXRpbWUtY29udmVydCE9XCJmYWxzZVwiXScpLmVhY2goKF8sIGVsKSA9PiB7XG4gICAgY29uc3QgJGVsID0gJChlbCk7XG4gICAgY29uc3QgZHQgPSBtb21lbnQoJGVsLmF0dHIoJ2RhdGV0aW1lJykpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcblxuICAgIGlmIChkdC5faXNWYWxpZCkge1xuICAgICAgJGVsLnRleHQoZHQuZm9ybWF0KCRlbC5kYXRhKCd3aXRoLXR6JykgPyBkZWZhdWx0Rm9ybWF0V2l0aFRaIDogZGVmYXVsdEZvcm1hdCkpO1xuICAgIH1cblxuICAgIGlmICgkZWwuYXR0cigndGl0bGUnKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBJZiBkaXNwbGF5ZWQgZGF0ZSBpcyBub3QgVVRDLCBoYXZlIHRoZSBVVEMgZGF0ZSBpbiBhIHRpdGxlIGF0dHJpYnV0ZVxuICAgICAgJGVsLmF0dHIoJ3RpdGxlJywgZHQuaXNVVEMoKSA/ICcnIDogYFVUQzogJHtkdC5jbG9uZSgpLnV0YygpLmZvcm1hdCgpfWApO1xuICAgIH1cbiAgfSk7IC8vIFVwZGF0ZSBhbnkgZGF0ZS10aW1lIGlucHV0cy5cbiAgLy9cbiAgLy8gU2luY2Ugd2UgaGF2ZSBzZXQgdGhlIGRlZmF1bHQgdGltZXpvbmUgZm9yIG1vbWVudCwgaXQgd2lsbCBhdXRvbWF0aWNhbGx5XG4gIC8vIGNvbnZlcnQgaXQgdG8gdGhlIG5ldyB0YXJnZXQgZm9yIHVzXG5cbiAgJCgnLmRhdGV0aW1lIGlucHV0JykuZWFjaCgoXywgZWwpID0+IHtcbiAgICBlbC52YWx1ZSA9IG1vbWVudChlbC52YWx1ZSkuZm9ybWF0KCk7XG4gIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldERpc3BsYXllZFRpbWV6b25lKHR6KSB7XG4gIG1vbWVudC50ei5zZXREZWZhdWx0KHR6KTtcbiAgdXBkYXRlQWxsRGF0ZVRpbWVzKCk7XG59IC8vIG1vbWVudCB3aWxsIHJlc29sdmUgdGhlIGVuZGRhdGUgdG8gbm93IGlmIGl0IGlzIHVuZGVmaW5lZFxuXG5leHBvcnQgY29uc3QgZ2V0RHVyYXRpb24gPSAoc3RhcnREYXRlLCBlbmREYXRlKSA9PiBtb21lbnQoZW5kRGF0ZSB8fCB1bmRlZmluZWQpLmRpZmYoc3RhcnREYXRlIHx8IHVuZGVmaW5lZCk7XG5leHBvcnQgY29uc3QgZm9ybWF0RHVyYXRpb24gPSBkdXIgPT4ge1xuICBjb25zdCBkdXJhdGlvbiA9IG1vbWVudC5kdXJhdGlvbihkdXIpO1xuICBjb25zdCBkYXlzID0gZHVyYXRpb24uZGF5cygpOyAvLyAuYXMoJ21pbGxpc2Vjb25kcycpIGlzIG5lY2Vzc2FyeSBmb3IgLmZvcm1hdCgpIHRvIHdvcmsgY29ycmVjdGx5XG5cbiAgcmV0dXJuIGAke2RheXMgPiAwID8gYCR7ZGF5c31kYCA6ICcnfSR7bW9tZW50LnV0YyhkdXJhdGlvbi5hcygnbWlsbGlzZWNvbmRzJykpLmZvcm1hdCgnSEg6bW06c3MnKX1gO1xufTtcbmV4cG9ydCBjb25zdCBhcHByb3hUaW1lRnJvbU5vdyA9IGR1ciA9PiB7XG4gIGNvbnN0IHRpbWVmcm9tTm93ID0gbW9tZW50KGR1cik7XG4gIHJldHVybiBgJHt0aW1lZnJvbU5vdy5mcm9tTm93KCl9YDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./static/js/datetime_utils.js\n");

/***/ }),

/***/ "./static/js/utils.js":
/*!****************************!*\
  !*** ./static/js/utils.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"appendSearchParams\": () => (/* binding */ appendSearchParams),\n/* harmony export */   \"finalStatesMap\": () => (/* binding */ finalStatesMap),\n/* harmony export */   \"getMetaValue\": () => (/* binding */ getMetaValue)\n/* harmony export */ });\n/*!\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/* global document */\nfunction getMetaValue(name) {\n  const elem = document.querySelector(`meta[name=\"${name}\"]`);\n\n  if (!elem) {\n    return null;\n  }\n\n  return elem.getAttribute('content');\n}\nconst finalStatesMap = () => new Map([['success', 0], ['failed', 0], ['upstream_failed', 0], ['up_for_retry', 0], ['up_for_reschedule', 0], ['running', 0], ['deferred', 0], ['sensing', 0], ['queued', 0], ['scheduled', 0], ['skipped', 0], ['no_status', 0]]);\nconst appendSearchParams = (url, params) => {\n  const separator = url.includes('?') ? '&' : '?';\n  return `${url}${separator}${params}`;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdGF0aWMvanMvdXRpbHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BaXJmbG93Ly4vc3RhdGljL2pzL3V0aWxzLmpzP2Q2OGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiBnbG9iYWwgZG9jdW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRhVmFsdWUobmFtZSkge1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgbWV0YVtuYW1lPVwiJHtuYW1lfVwiXWApO1xuXG4gIGlmICghZWxlbSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCdjb250ZW50Jyk7XG59XG5leHBvcnQgY29uc3QgZmluYWxTdGF0ZXNNYXAgPSAoKSA9PiBuZXcgTWFwKFtbJ3N1Y2Nlc3MnLCAwXSwgWydmYWlsZWQnLCAwXSwgWyd1cHN0cmVhbV9mYWlsZWQnLCAwXSwgWyd1cF9mb3JfcmV0cnknLCAwXSwgWyd1cF9mb3JfcmVzY2hlZHVsZScsIDBdLCBbJ3J1bm5pbmcnLCAwXSwgWydkZWZlcnJlZCcsIDBdLCBbJ3NlbnNpbmcnLCAwXSwgWydxdWV1ZWQnLCAwXSwgWydzY2hlZHVsZWQnLCAwXSwgWydza2lwcGVkJywgMF0sIFsnbm9fc3RhdHVzJywgMF1dKTtcbmV4cG9ydCBjb25zdCBhcHBlbmRTZWFyY2hQYXJhbXMgPSAodXJsLCBwYXJhbXMpID0+IHtcbiAgY29uc3Qgc2VwYXJhdG9yID0gdXJsLmluY2x1ZGVzKCc/JykgPyAnJicgOiAnPyc7XG4gIHJldHVybiBgJHt1cmx9JHtzZXBhcmF0b3J9JHtwYXJhbXN9YDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./static/js/utils.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./static/js/dag.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});